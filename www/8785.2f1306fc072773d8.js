"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8785],{8785:(C,d,s)=>{s.r(d),s.d(d,{DocentePage:()=>O});var u=s(5873),l=s(177),m=s(4341),i=s(9299),h=s(5079),e=s(4438),g=s(6766),p=s(7250),f=s(3804);const b=()=>["/home-docente"];function E(o,c){1&o&&(e.j41(0,"ion-item")(1,"ion-label",10)(2,"ion-chip",11),e.nrm(3,"ion-icon",12),e.j41(4,"ion-label"),e.EFF(5,"No hay estudiantes que mostrar..."),e.k0s()()()())}function P(o,c){if(1&o&&(e.j41(0,"ion-item")(1,"ion-label")(2,"ion-chip",13),e.nrm(3,"ion-icon",14),e.j41(4,"ion-label"),e.EFF(5),e.k0s()()(),e.j41(6,"ion-badge",15),e.EFF(7),e.k0s()()),2&o){const r=c.$implicit,t=e.XpG();e.R7$(5),e.JRh(r.nombres_usuario+" "+r.apellidos_usuario),e.R7$(),e.Y8G("ngClass",t.getPuntajeClass(r.puntaje)),e.R7$(),e.SpI(" ",r.puntaje," ")}}function D(o,c){1&o&&(e.j41(0,"ion-item")(1,"ion-label",10)(2,"ion-chip",11),e.nrm(3,"ion-icon",12),e.j41(4,"ion-label"),e.EFF(5,"No hay tareas que mostrar..."),e.k0s()()()())}function j(o,c){if(1&o){const r=e.RV6();e.j41(0,"ion-item")(1,"ion-label"),e.EFF(2),e.k0s(),e.j41(3,"ion-button",16),e.bIt("click",function(){const n=e.eBV(r).$implicit,a=e.XpG();return e.Njj(a.detalleTarea(n.id_curso,n.id_seccion,n.id_tarea))}),e.nrm(4,"ion-icon",17),e.k0s()()}if(2&o){const r=c.$implicit;e.R7$(2),e.JRh(r.titulo_tarea)}}let O=(()=>{var o;class c{constructor(t,n,a,_){this.route=t,this.estudiantesService=n,this.tareasService=a,this.router=_,this.estudiantes=[],this.tareas=[],(0,h.a)({alertCircleOutline:u.ndb,personOutline:u.wAZ,enterOutline:u.b9o})}ngOnInit(){this.id_curso=Number(sessionStorage.getItem("id_curso")),this.id_seccion=Number(sessionStorage.getItem("id_seccion")),this.route.paramMap.subscribe(t=>{this.id_curso=Number(t.get("id_curso")),this.id_seccion=Number(t.get("id_seccion")),console.log("Cargando info de curso con ID: "+this.id_curso+" Y secci\xf3n ID: "+this.id_seccion)})}ionViewWillEnter(){this.loadEstudiantes(),this.loadTareas()}loadEstudiantes(){this.estudiantesService.getEstudiantesByCurso(this.id_curso).subscribe(n=>{n.success?this.estudiantes=n.estudiantes.sort((a,_)=>_.puntaje-a.puntaje):console.error("No se encontraron estudiantes para este curso.")},n=>{console.error("Error al cargar estudiantes y puntajes:",n)})}getPuntajeClass(t){return t<6?"puntaje-bajo":t>=6&&t<=7?"puntaje-medio":"puntaje-alto"}loadTareas(){this.tareasService.obtenerTareas(this.id_curso,this.id_seccion).subscribe(a=>{a.success?(this.tareas=a.tareas,console.log("Datos de tareas cargados:",this.tareas)):console.error("No se encontraron tareas para este curso y secci\xf3n.")},a=>{console.error("Error al cargar tareas:",a)})}detalleTarea(t,n,a){console.log("id_curso:",t,"seccion:",n,"id_tarea:",a),this.router.navigate(["/detalle-tarea",t,n,a])}haciaCrearTarea(){this.router.navigate(["/crear-tarea"],{queryParams:{id_curso:this.id_curso,id_seccion:this.id_seccion}})}}return(o=c).\u0275fac=function(t){return new(t||o)(e.rXU(g.nX),e.rXU(p.$),e.rXU(f.k),e.rXU(g.Ix))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-docente"]],standalone:!0,features:[e.aNF],decls:27,vars:7,consts:[["slot","start"],[3,"defaultHref"],[1,"ion-padding",3,"fullscreen"],["color","dark"],["color","primary",1,"scrollable-list"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[1,"scrollable-list"],["expand","block","color","tertiary",1,"ion-margin-top",3,"click"],[1,"no-estudiantes"],["color","medium"],["name","alert-circle-outline"],["color","primary",1,"item-label"],["name","person-outline"],[1,"puntaje",3,"ngClass"],["fill","outline","slot","end","color","success",3,"click"],["slot","icon-only","name","enter-outline"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Docente"),e.k0s(),e.j41(4,"ion-buttons",0),e.nrm(5,"ion-back-button",1),e.k0s()()(),e.j41(6,"ion-content",2)(7,"ion-card")(8,"ion-header")(9,"ion-toolbar",3)(10,"ion-title"),e.EFF(11,"Puntajes de Actividades"),e.k0s()()(),e.j41(12,"div",4)(13,"ion-list"),e.DNE(14,E,6,0,"ion-item",5)(15,P,8,3,"ion-item",6),e.k0s()()(),e.nrm(16,"div",7),e.j41(17,"ion-card")(18,"ion-header")(19,"ion-toolbar",3)(20,"ion-title"),e.EFF(21,"Actividades activas"),e.k0s()()(),e.j41(22,"ion-list",8),e.DNE(23,D,6,0,"ion-item",5)(24,j,5,1,"ion-item",6),e.k0s()(),e.j41(25,"ion-button",9),e.bIt("click",function(){return n.haciaCrearTarea()}),e.EFF(26," Crear Tarea "),e.k0s()()),2&t&&(e.R7$(5),e.Y8G("defaultHref",e.lJ4(6,b)),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(8),e.Y8G("ngIf",0===n.estudiantes.length),e.R7$(),e.Y8G("ngForOf",n.estudiantes),e.R7$(8),e.Y8G("ngIf",0===n.tareas.length),e.R7$(),e.Y8G("ngForOf",n.tareas))},dependencies:[i.b_,i.el,i.QW,i.In,i.ZB,i.iq,i.nf,i.uz,i.he,i.Jm,i.W9,i.eU,i.BC,i.ai,l.MD,l.YU,l.Sq,l.bT,m.YN],styles:['@charset "UTF-8";.scrollable-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}ion-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.puntaje[_ngcontent-%COMP%]{font-weight:700;text-align:right;margin-left:auto}.puntaje-container[_ngcontent-%COMP%]{display:inline-block;padding:0 8px;border-radius:10px;color:#fff;font-weight:700;text-align:center;font-size:12px}.puntaje-bajo[_ngcontent-%COMP%]{background-color:#bb2124}.puntaje-medio[_ngcontent-%COMP%]{background-color:#f0ad4e;color:#000}.puntaje-alto[_ngcontent-%COMP%]{background-color:#2b3}.no-estudiantes[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;font-weight:700;color:var(--ion-color-medium)}']}),c})()}}]);